"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useLeafletInput = void 0;

var _react = require("react");

var _useLeafletMap = require("./useLeafletMap");

const useLeafletInput = (inputStartEvent, inputStopEvent, onGetInitialState = getFalse) => {
  const map = (0, _useLeafletMap.useLeafletMap)();
  const [isInput, setIsInput] = (0, _react.useState)(onGetInitialState(map));
  (0, _react.useEffect)(() => {
    let effectMounted = true;

    const handleStart = () => effectMounted && setIsInput(true);

    const handleEnd = () => effectMounted && setIsInput(false);

    if (map) {
      map.on(inputStartEvent, handleStart);
      map.on(inputStopEvent, handleEnd);
    }

    return () => {
      effectMounted = false;

      if (map) {
        map.off(inputStartEvent, handleStart);
        map.off(inputStopEvent, handleEnd);
      }
    };
  }, [inputStartEvent, inputStopEvent, map]);
  return isInput;
};

exports.useLeafletInput = useLeafletInput;

const getFalse = () => false;